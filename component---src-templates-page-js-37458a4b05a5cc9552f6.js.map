{"version":3,"file":"component---src-templates-page-js-37458a4b05a5cc9552f6.js","mappings":"yQAgBMA,EAAiB,CACrB,KAAQ,EACR,mBAAoB,EACpB,kCAAmC,EACnC,SAAY,EACZ,6CAA8C,GAGjC,SAASC,EAAQC,GAC9B,IAAMC,GAAWC,EAAAA,EAAAA,eAEXC,EAAoBH,EAAMG,MAAMC,KAAI,SAAAC,GAAC,OAAIA,KAAGC,MAAK,SAACC,EAAaC,GACnE,IAAMC,EAAcX,EAAeS,EAAEG,OAC/BC,EAAcb,EAAeU,EAAEE,OACrC,OAAgBE,MAAbH,GAAuCG,MAAbD,EACpBF,EAAcE,EAEFC,MAAbH,GACE,EAEWG,MAAbD,EACC,EAEF,KAIT,OACE,uBAAKE,UAAU,WACb,gBAAC,EAAAC,EAAD,CACEC,IAAI,0BACJC,IAAI,kBAFN,sBAKA,2BACA,uBAAKH,UAAU,SACZV,EAAMC,KAAI,SAACC,EAAEY,GAAH,OACT,qBAAGC,IAAKD,EAAGJ,UAAS,SAAUZ,EAASkB,UAAUd,EAAEe,KAAO,WAAY,gBAAC,EAAAC,KAAD,CAAMC,GAAIjB,EAAEe,KAAMf,EAAEK,aCnCpG,IAsFA,EAtFqB,SAACV,GAAW,IAAD,cACxBuB,EAAOvB,EAAMuB,KACFC,GAAcD,EAAxBE,SAAwBF,EAAdC,MAEXE,GAFyBH,EAARI,KAED,CACpBJ,KAAI,UAAEC,EAAKE,qBAAP,iBAAE,EAAoBE,YAAtB,iBAAE,EAA0BC,iBAA5B,iBAAE,EAAqCC,uBAAvC,aAAE,EAAsDC,gBAC5Df,KAAK,UAAAQ,EAAKE,qBAAL,mBAAoBE,YAApB,eAA0BZ,MAA1B,KAKP,OAFAgB,QAAQC,IAAI,OAAOV,GAGjB,gBAAC,IAAD,KACE,gBAAC,IAAD,CAAKb,MAAOc,EAAKd,MAAOwB,YAAaV,EAAKW,UAE1C,uBAAKtB,UAAU,mBAEZa,MAAAA,OAAA,EAAAA,EAAeH,OACd,gBAAC,EAAAa,EAAD,CACEC,MAAOX,EAAcH,KACrBP,IAAKU,EAAcV,KAAO,oBAKhC,uBAAKH,UAAU,aACb,uBAAKA,UAAU,kBAKVW,EAAKc,SACN,gCAAUC,EAAAA,EAAAA,IAAMf,EAAKc,WAgDzB,gBAACvC,EAAD,CAASI,OAAOoB,MAAAA,GAAA,UAAAA,EAAMiB,iBAAN,eAAiBC,QAAS,S","sources":["webpack://gatsby-starter-wordpress-blog/./src/components/Sidebar/Sidebar.tsx","webpack://gatsby-starter-wordpress-blog/./src/templates/page.js"],"sourcesContent":["import React from 'react'\nimport { useLocation } from \"@reach/router\"\nimport { StaticImage } from \"gatsby-plugin-image\"\nimport { Link } from 'gatsby'\n// import profilePicture from \"../../images/mnaoi.jpeg\"\n\ntype PageType = {\n  title:string,\n  uri:string\n}\n\ntype Props = {\n  pages: PageType[],\n}\n\n//HARDCODED this dictionary is used to sort the pages in the sidebar\nconst pagePrecedence = {\n  \"Home\": 0,\n  \"Curriculum Vitae\": 1,\n  \"Publications and Working Papers\": 2,\n  \"Teaching\": 3,\n  \"Domestic Politics of Free Trade Agreements\": 4\n}\n\nexport default function Sidebar(props:Props) {\n  const location = useLocation()\n\n  const pages: PageType[] = props.pages.map(p => p).sort((a: PageType, b: PageType) => {\n    const aPrecedence = pagePrecedence[a.title]\n    const bPrecedence = pagePrecedence[b.title]\n    if(aPrecedence!=undefined && bPrecedence!=undefined) {\n      return aPrecedence - bPrecedence\n    }\n    else if(aPrecedence!=undefined) {\n      return -1\n    }\n    else if(bPrecedence!=undefined) {\n      return 1\n    }\n    return 0\n  })\n\n  \n  return (\n    <div className=\"sidebar\">\n      <StaticImage\n        src=\"../../images/mnaoi.jpeg\"\n        alt=\"Profile picture\"\n      />\n\n      <hr/>\n      <div className='items'>\n        {pages.map((p,i) =>\n          <p key={i} className={`item ${location.pathname==p.uri && \"active\"}`}><Link to={p.uri}>{p.title}</Link></p>\n        )}\n      </div>\n    </div>\n  )\n}","import React from \"react\"\nimport { Link, graphql } from \"gatsby\"\nimport { GatsbyImage } from \"gatsby-plugin-image\"\nimport parse from \"html-react-parser\"\n\n// We're using Gutenberg so we need the block styles\n// these are copied into this project due to a conflict in the postCSS\n// version used by the Gatsby and @wordpress packages that causes build\n// failures.\n// @todo update this once @wordpress upgrades their postcss version\nimport \"../css/@wordpress/block-library/build-style/style.css\"\nimport \"../css/@wordpress/block-library/build-style/theme.css\"\n\nimport Bio from \"../components/bio\"\nimport Layout from \"../components/layout\"\nimport Seo from \"../components/seo\"\nimport Sidebar from \"../components/Sidebar/Sidebar\"\n\nconst PageTemplate = (props) => {\n  const data = props.data\n  const {previous, post, next} = data\n\n  const featuredImage = {\n    data: post.featuredImage?.node?.localFile?.childImageSharp?.gatsbyImageData,\n    alt: post.featuredImage?.node?.alt || ``,\n  }\n\n  console.log(\"data\",data)\n\n  return (\n    <Layout>\n      <Seo title={post.title} description={post.excerpt} />\n\n      <div className=\"featured-image\">\n        {/* if we have a featured image for this post let's display it */}\n        {featuredImage?.data && (\n          <GatsbyImage\n            image={featuredImage.data}\n            alt={featuredImage.alt || \"Featured Image\"}\n          />\n        )}\n      </div>\n\n      <div className=\"page-body\">\n        <div className=\"page-content\">\n          {/* <header>\n            <h1>{parse(post.title)}</h1>\n          </header> */}\n\n          {!!post.content && (\n            <section>{parse(post.content)}</section>\n          )}\n\n          {/* <div style={{borderBottom:\"3px solid black\"}}/>\n\n          <footer>\n            <p>Published {post.date}</p>\n            <p>By {post.author?.node?.name}</p>\n          </footer> */}\n\n\n          {/* <footer>\n            <Bio />\n          </footer> */}\n        </div>\n\n        {/* <section className=\"comments\">\n          \n        </section> */}\n\n        {/* <nav className=\"blog-post-nav\">\n          <ul\n            style={{\n              display: `flex`,\n              flexWrap: `wrap`,\n              justifyContent: `space-between`,\n              listStyle: `none`,\n              padding: 0,\n            }}\n          >\n            <li>\n              {previous && (\n                <Link to={previous.uri} rel=\"prev\">\n                  ← {parse(previous.title)}\n                </Link>\n              )}\n            </li>\n\n            <li>\n              {next && (\n                <Link to={next.uri} rel=\"next\">\n                  {parse(next.title)} →\n                </Link>\n              )}\n            </li>\n          </ul>\n        </nav> */}\n\n        <Sidebar pages={data?.allWpPage?.nodes || []}/>\n      </div>\n    </Layout>\n  )\n}\n\nexport default PageTemplate\n\nexport const pageQuery = graphql`\n  query PageById(\n    $id: String!\n  ) {\n    allWpPage {\n      nodes {\n        title\n        uri\n      }\n    }\n    post: wpPage(id: { eq: $id }) {\n      id\n      author {\n        node {\n          name\n        }\n      }\n      comments {\n        nodes {\n          content\n        }\n      }\n      content\n      date(formatString: \"MMMM DD, YYYY\")\n      featuredImage {\n        node {\n          altText\n          localFile {\n            childImageSharp {\n              gatsbyImageData(\n                quality: 100\n                placeholder: TRACED_SVG\n                layout: FULL_WIDTH\n              )\n            }\n          }\n        }\n      }\n      title\n    }\n  }\n`\n"],"names":["pagePrecedence","Sidebar","props","location","useLocation","pages","map","p","sort","a","b","aPrecedence","title","bPrecedence","undefined","className","S","src","alt","i","key","pathname","uri","Link","to","data","post","previous","featuredImage","next","node","localFile","childImageSharp","gatsbyImageData","console","log","description","excerpt","G","image","content","parse","allWpPage","nodes"],"sourceRoot":""}